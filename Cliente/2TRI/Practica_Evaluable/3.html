<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Consulta a JSONPlaceholder</title>
</head>
<body>
  <h1>Listado de Nombres de Usuarios</h1>
  <ul id="nombres"></ul> 

  <!-- Contenedor que muestra los datos, está oculto hasta que se haga la consulta -->
  <div id="datosUsuario" style="display:none;">
    <h2>Datos del usuario</h2>
    <p>ID: <span id="userId"></span></p>
    <p>Nombre: <span id="userName"></span></p>
    <p>Email: <span id="userEmail"></span></p>
    <p>Empresa: <span id="userCompany"></span></p>
  </div>

  <script>
    // Pedir al usuario el nombre del usuario del que quiere conocer los datos
    var nombreUsuario = prompt('Ingrese un nombre para bsucar:');

    // Realizar solicitud AJAX para obtener los usuarios
    var request = new XMLHttpRequest(); // Crear objeto para realizar la solicitud HTTP
    request.open('GET', 'https://jsonplaceholder.typicode.com/users', true); // Configurar la solicitud GET a la URL de usuarios
    request.onload = function() { // Función que se ejecuta cuando la solicitud se completa con éxito
      if (request.status >= 200 && request.status < 400) { // Verificar si la respuesta fue exitosa
        var data = JSON.parse(request.responseText); // Convertir la respuesta JSON en un objeto JavaScript
        mostrarDatosUsuario(data, nombreUsuario); // Llamar a la función para mostrar los datos del usuario
      } else {
        console.error('No se pudo cargar la información.'); // Mostrar mensaje de error si no funciona
      }
    };

    request.send(); // Enviar la solicitud

    function mostrarDatosUsuario(usuarios, nombre) {
      var usuarioEncontrado = usuarios.find(function(usuario) { // Buscar el usuario por su nombre
        return usuario.name === nombre;
      });

      if (usuarioEncontrado) { // Si se encuentra el usuario
        // Establecer los datos del usuario encontrado
        document.getElementById('userId').textContent = usuarioEncontrado.id;
        document.getElementById('userName').textContent = usuarioEncontrado.name;
        document.getElementById('userEmail').textContent = usuarioEncontrado.email;
        document.getElementById('userCompany').textContent = usuarioEncontrado.company.name;
        document.getElementById('datosUsuario').style.display = 'block'; // Mostrar el contenedor que estaba oculto con los datos del usuario
      } else {
        console.error('No se encontró ningún usuario con ese nombre.'); // Mostrar mensaje de error si no se encuentra el usuario
      }
    }
  </script>
</body>
</html>
