acceso_datos dinamico web
marcar web.xml

que tenga una pagina jsp como interfaz de entrada llamada consulta_libros.jsp que muestre un formulario con un
conjunto de checkbox en el que se puedan elegir varios autores

servlet se mandan los datos y conecta con base de datos y los manda a otro jsp de salida
tiendalibrodb base de datos mysql
en un jsp diferente mostrara los libros 

base de datos:
- identificador de libro, titulo, autor y precio
- suponemos que los autores no se repiten

import jakarta.servlet.RequestDispatcher;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.MultipartConfig;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

@WebServlet("/ConsultaServlet")
public class ConsultaServlet extends HttpServlet {

	
	@Override
	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

		Connection conn = null;

		try {
			// Cargar el driver
			Class.forName("com.mysql.cj.jdbc.Driver");

			String userName = "libreria";
			String password = "libreria";
			String url = "jdbc:mysql://localhost/biblioteca";
			conn = DriverManager.getConnection(url, userName, password);

			String autorSeleccionado = request.getParameter("autor");
			String consultaSQL = "SELECT * FROM libros WHERE autor = ?";

			try (PreparedStatement statement = conn.prepareStatement(consultaSQL)) {
				statement.setString(1, autorSeleccionado);

				try (ResultSet resultSet = statement.executeQuery()) {
					List<String> resultados = new ArrayList<>();
					while (resultSet.next()) {
						resultados.add(resultSet.getString("titulo"));
					}

					request.setAttribute("resultados", resultados);
				}
			}

		} catch (ClassNotFoundException | SQLException e) {
			e.printStackTrace();
		} finally {
			if (conn != null) {
				try {
					conn.close();
				} catch (SQLException e) {
					e.printStackTrace();
				}
			}
		}

		RequestDispatcher dispatcher = request.getRequestDispatcher("Mostrar_Consulta.jsp");
		dispatcher.forward(request, response);
	}
}




////////////


<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ page import="java.util.List"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Mostrar Consulta</title>
</head>
<body>

	<h2>Resultados de la Consulta</h2>


	<%
        List<String> resultados = (List<String>) request.getAttribute("resultados");
    %>


	<% if (resultados != null && !resultados.isEmpty()) { %>

	<ul>
		<% for (String resultado : resultados) { %>
		<li><%= resultado %></li>
		<% } %>
	</ul>

	<% } else { %>

	<p>No se encontraron resultados.</p>

	<% } %>

</body>
</html>
